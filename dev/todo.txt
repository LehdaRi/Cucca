TODO:

Check thread safety
	resources

Add comments and documentation

Unify the layout of files